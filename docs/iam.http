
### 生成一个master下的service account对应的token
POST http://localhost:8080/realms/master/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials&client_id=mmo&client_secret=Nhgj1M7HwDIQMvUUhS8S5GCmc91MwgWl

### introspect
POST http://localhost:8080/realms/s1/protocol/openid-connect/token/introspect
Content-Type: application/x-www-form-urlencoded
Accept: application/json

client_id=sso-proxy&client_secret=wdchIhqHAptyXdZESDBOXA&token=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJId3RyVGl5VlNjVlRVSjk1M002eXVMeDBtNUdkdGxMZmVnbnFlSE9PdEpnIn0.eyJleHAiOjE2NzAzNzc1NDEsImlhdCI6MTY3MDM3NzI0MSwiYXV0aF90aW1lIjoxNjcwMzc3MTM0LCJqdGkiOiJlYWY0MWYxYy1kZWM5LTQ0NWEtYTZhNy0xMWMzNjkxNzU0ZGYiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvcmVhbG1zL3MxIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjZiZjVhYjMzLWU2ZGItNGJiZS1hOTVmLTdmZGIzMjg2MjhlNCIsInR5cCI6IkJlYXJlciIsImF6cCI6InNzby1wcm94eSIsIm5vbmNlIjoicGxxWS1VOTFER3RGZktlU2locGNEQSIsInNlc3Npb25fc3RhdGUiOiIyMzBlNmI5YS1mNDRkLTQ2OTAtOTUwNS0yYmEzZmExNmY2YWYiLCJhY3IiOiIwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1zMSIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIzMGU2YjlhLWY0NGQtNDY5MC05NTA1LTJiYTNmYTE2ZjZhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiamV2ZW4iLCJnaXZlbl9uYW1lIjoiIiwiZmFtaWx5X25hbWUiOiIifQ.ln8byZMCHLBsXBSPyWrrlEPW1kdOojwU01Ov3ra7gwF3OSpyWrABI0f8FMIfUR0gXMKnCAbtTvrd0valSMVZG_jYCBoV6dP7_45oKW8hNcwr5sSfzv-hP48CcbAACMrJZzxY19HZyki8R_nTyBKskkdjqKwpAt6jSzMgGTCB15nao9WevWqtkMmtgqjnJ9Hgv8hZ7UuTPNbGOp7IyuxSnN1P-tgce2PYDvoPPaof5V374ytfvtNNvCaSunBAVWdlAoQCK9dinQVFs1gQhFBrueZiRQAmziAaequF_b9ERIgn9U4ga7S7Ep1cP5JvA51s_Ns4j1PQ95IHr-kIOkFiDQ

### profile
GET http://localhost:8080/admin/realms/s1/users/profile
Authorization: bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJId3RyVGl5VlNjVlRVSjk1M002eXVMeDBtNUdkdGxMZmVnbnFlSE9PdEpnIn0.eyJleHAiOjE2NzAzMDk5OTYsImlhdCI6MTY3MDMwOTY5NiwiYXV0aF90aW1lIjoxNjcwMzA4NzMzLCJqdGkiOiJmMGFmMmM3MS02ZDFlLTQ3YTItYTI0MS1mYTM0MWI5ODZmZmMiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvcmVhbG1zL3MxIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjZiZjVhYjMzLWU2ZGItNGJiZS1hOTVmLTdmZGIzMjg2MjhlNCIsInR5cCI6IkJlYXJlciIsImF6cCI6InNzby1wcm94eSIsIm5vbmNlIjoieGZEX2w0RG1JSVF4TGRtbGJ6R3JJQSIsInNlc3Npb25fc3RhdGUiOiI3MjBlNDhiNS1hY2U5LTQ1NTItYTUyZC03ZmVlNzc3YjkwYmQiLCJhY3IiOiIwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1zMSIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjcyMGU0OGI1LWFjZTktNDU1Mi1hNTJkLTdmZWU3NzdiOTBiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiamV2ZW4iLCJnaXZlbl9uYW1lIjoiIiwiZmFtaWx5X25hbWUiOiIifQ.gil_05bS47mjdUn0hQ8O0-OiPdhNAV5jRRoUodFugAP3mEaeRy80vOz7PepeTsfv8nPSxEKeCAms-BfLgpEpV8Y97KXHP0-xtPj-i2mQbmdkxqjm2YbIIsUzMwyPyGBJyd82PqrFhxkPKbTF6PYaRODHTJVayVtgH5Rh1QeGxz2S8LUidTwAzcFfPVxGSdwvNecHXe3-ZisfRVzsWW0ErJZOOLEYcqLtkzs8zsswMYgcKU9nc5Ye1E2GjzKzhjP_pnf5zvnNXU1mAuFg9AZm7a2hgDEtYXm0TqaWEklbMBENoJ_S0RbHoBomd7noA8ew63WDPCJFaQTvLklbAX85iw

### userinfo
GET http://localhost:9900/proxy/iam/realms/s1/protocol/openid-connect/userinfo
#Authorization: bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJId3RyVGl5VlNjVlRVSjk1M002eXVMeDBtNUdkdGxMZmVnbnFlSE9PdEpnIn0.eyJleHAiOjE2NzAzNzgwNTgsImlhdCI6MTY3MDM3Nzc1OCwiYXV0aF90aW1lIjoxNjcwMzc3MTM0LCJqdGkiOiI5MWU3OWEzZC0yZDg3LTQ3NWYtYTU1OC00OWRiNmFmNzY3OTkiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvcmVhbG1zL3MxIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjZiZjVhYjMzLWU2ZGItNGJiZS1hOTVmLTdmZGIzMjg2MjhlNCIsInR5cCI6IkJlYXJlciIsImF6cCI6InNzby1wcm94eSIsIm5vbmNlIjoiOXN0SldBV1BBRG1iQllYVUpIbG9JQSIsInNlc3Npb25fc3RhdGUiOiIyMzBlNmI5YS1mNDRkLTQ2OTAtOTUwNS0yYmEzZmExNmY2YWYiLCJhY3IiOiIwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1zMSIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIzMGU2YjlhLWY0NGQtNDY5MC05NTA1LTJiYTNmYTE2ZjZhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiamV2ZW4iLCJnaXZlbl9uYW1lIjoiIiwiZmFtaWx5X25hbWUiOiIifQ.HpOy8eCXHKvx7H8k39R-xX9rKaWwXYhJ8eVk84ZuxcwcrAcf-GElLA7PNGg--sQ61rhkbkgw1jFbfebiIxt8a-LsBky_61ZhcMw-kFf7U34ll-RafKrqJQ4kXW9oY71x9M2jlVigzSGJCV21pMwESC3BE4nhZa4noQH9saEF7eViyX00WZyr2O0zAxVHlP_91fBITo1hLPK6VvHx00a0UiiTgvgKtr98d3vhI3AddYplWUFVLf6khjnyQ97968SSiDe0kVyi9OIM2gAAXNLYREJnoAlj0G2xOBwAYZvrwxeGcmFjlLvfv-zjm7e01OHZIvtr69bDPjMDD4bFTaRY-A

### userinfo2
GET http://localhost:8080/realms/s1/protocol/openid-connect/userinfo
Authorization: bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJId3RyVGl5VlNjVlRVSjk1M002eXVMeDBtNUdkdGxMZmVnbnFlSE9PdEpnIn0.eyJleHAiOjE2NzAzNzgwNTgsImlhdCI6MTY3MDM3Nzc1OCwiYXV0aF90aW1lIjoxNjcwMzc3MTM0LCJqdGkiOiI5MWU3OWEzZC0yZDg3LTQ3NWYtYTU1OC00OWRiNmFmNzY3OTkiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvcmVhbG1zL3MxIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjZiZjVhYjMzLWU2ZGItNGJiZS1hOTVmLTdmZGIzMjg2MjhlNCIsInR5cCI6IkJlYXJlciIsImF6cCI6InNzby1wcm94eSIsIm5vbmNlIjoiOXN0SldBV1BBRG1iQllYVUpIbG9JQSIsInNlc3Npb25fc3RhdGUiOiIyMzBlNmI5YS1mNDRkLTQ2OTAtOTUwNS0yYmEzZmExNmY2YWYiLCJhY3IiOiIwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1zMSIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIzMGU2YjlhLWY0NGQtNDY5MC05NTA1LTJiYTNmYTE2ZjZhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiamV2ZW4iLCJnaXZlbl9uYW1lIjoiIiwiZmFtaWx5X25hbWUiOiIifQ.HpOy8eCXHKvx7H8k39R-xX9rKaWwXYhJ8eVk84ZuxcwcrAcf-GElLA7PNGg--sQ61rhkbkgw1jFbfebiIxt8a-LsBky_61ZhcMw-kFf7U34ll-RafKrqJQ4kXW9oY71x9M2jlVigzSGJCV21pMwESC3BE4nhZa4noQH9saEF7eViyX00WZyr2O0zAxVHlP_91fBITo1hLPK6VvHx00a0UiiTgvgKtr98d3vhI3AddYplWUFVLf6khjnyQ97968SSiDe0kVyi9OIM2gAAXNLYREJnoAlj0G2xOBwAYZvrwxeGcmFjlLvfv-zjm7e01OHZIvtr69bDPjMDD4bFTaRY-A


### offline_access
#curl -X POST https://<domain>/auth/realms/public/protocol/openid-connect/token
#  -H "Content-Type: application/x-www-form-urlencoded"
#  -d 'grant_type=authorization_code'
#  -d 'code=<code>'
#  -d "redirect_uri=<uri>'
#-d 'scope=openid offline_access'
#-d 'client_id=<id>'
#-d 'client_secret=<secret>'
#
# The difference between a refresh token and an offline token is that an offline token never expires
# and is not subject to the SSO Session Idle timeout and SSO Session Max lifespan. The offline token is valid after a user logout or server restart. You must use the offline token for a refresh token action at least once per thirty days or for the value of the Offline Session Idle.